{"version":3,"sources":["webpack:///./src/styles/restaurant.scss","webpack:///./src/styles/restaurant.scss?bf82","webpack:///./node_modules/dateformat/lib/dateformat.js","webpack:///./src/js/controllers/RestaurantController.js"],"names":["module","exports","__webpack_require__","push","i","content","options","hmr","transform","insertInto","undefined","locals","__WEBPACK_AMD_DEFINE_RESULT__","global","token","timezone","timezoneClip","dateFormat","date","mask","utc","gmt","arguments","length","val","Array","isArray","toString","call","slice","toLowerCase","test","Date","isNaN","TypeError","maskSlice","String","masks","_","d","D","m","y","H","M","s","L","o","getTimezoneOffset","W","targetThursday","getFullYear","getMonth","getDate","setDate","getDay","firstThursday","ds","setHours","getHours","weekDiff","Math","floor","getWeek","N","dow","getDayOfWeek","flags","dd","pad","ddd","i18n","dayNames","dddd","mm","mmm","monthNames","mmmm","yy","yyyy","h","hh","HH","MM","ss","l","round","t","timeNames","tt","T","TT","Z","match","pop","replace","abs","S","len","default","shortDate","mediumDate","longDate","fullDate","shortTime","mediumTime","longTime","isoDate","isoTime","isoDateTime","isoUtcDateTime","expiresHeaderFormat","RestaurantController","map","restaurant","pageElements","breadcrumbs","document","querySelector","restaurantContainer","restaurantName","restaurantCuisine","restaurantHoursToday","restaurantAddress","restaurantNeighborhood","restaurantStarRating","restaurantHoursContainer","restaurantImageContainer","reviewsContainer","render","_this","this","restaurantId","Object","_utils__WEBPACK_IMPORTED_MODULE_1__","fetchRestaurant","then","title","concat","name","fillBreadcrumb","renderRestaurant","loadMap","catch","console","error","generateImage","populateHeader","generateAverageRating","populateAddress","populateDetails","renderReviews","_this$pageElements","_this$restaurant","cuisine","cuisine_type","operatingHours","operating_hours","daysOfTheWeek","keys","todayNum","currentDay","textContent","_this$restaurant2","id","altText","loadingIndicator","createElement","className","appendChild","src","restaurantImgUrl","size","sizes","alt","image","parentNode","removeChild","_this$restaurant3","averageReview","reviews","link","setAttribute","_this$pageElements2","_this$restaurant4","address","neighborhood","docFrag","createDocumentFragment","table","tr","thead","thead_tr","cloneNode","tbody","tbody_tr","th","td","day","day_th","day_td","innerHTML","includes","generateHoursHtml","paragraph","reviewsList","forEach","review","li","div","p","reviewTop","reviewBody","username","starRating","comment","rating","dateformat__WEBPACK_IMPORTED_MODULE_0___default","createdAt","comments","generateReviewHtml","classList","add","latlng","zoom","center","lat","lng","dragging","addMarkers","position","event","target","closePopup","__webpack_exports__"],"mappings":"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","file":"./js/restaurant.min.js","sourcesContent":["exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".breadcrumbs {\\n  background: rgba(238, 238, 238, 0.25);\\n  border-bottom: 1px inset rgba(51, 51, 51, 0.25);\\n  padding: 1.06667rem; }\\n\\n.breadcrumbs__nav-list {\\n  list-style: none;\\n  margin: 0;\\n  padding: 0; }\\n\\n.breadcrumbs__nav-item {\\n  display: inline; }\\n  .breadcrumbs__nav-item:first-of-type::after {\\n    display: inline-block;\\n    margin: 0 0.8rem;\\n    transform: rotate(15deg);\\n    border-right: 0.125rem solid currentColor;\\n    height: 1.2rem;\\n    content: ''; }\\n  .breadcrumbs__nav-item[aria-current=\\\"page\\\"] {\\n    color: #333;\\n    font-weight: bold;\\n    text-decoration: none; }\\n    .breadcrumbs__nav-item[aria-current=\\\"page\\\"]::after {\\n      content: ''; }\\n\\n.breadcrumbs__link {\\n  color: #B22200; }\\n  .breadcrumbs__link:active, .breadcrumbs__link:focus {\\n    outline: none;\\n    text-decoration: underline; }\\n\\n.restaurant__map-container {\\n  display: flex;\\n  flex: 0 1 auto;\\n  flex-direction: column;\\n  height: auto;\\n  max-width: 100%; }\\n  .restaurant__map-container .restaurant__map {\\n    background-color: #e1e1e1;\\n    border: 1px inset rgba(51, 51, 51, 0.25);\\n    border-bottom: 0;\\n    flex: 1 0 auto;\\n    height: auto;\\n    min-height: 12.5rem;\\n    opacity: 1;\\n    position: relative;\\n    transition: opacity 1s ease;\\n    width: 100%; }\\n    .restaurant__map-container .restaurant__map .restaurant__map-loading {\\n      color: rgba(51, 51, 51, 0.85);\\n      display: block;\\n      font-weight: bold;\\n      left: 50%;\\n      position: absolute;\\n      top: 50%;\\n      transform: translate(-50%, -50%); }\\n  .restaurant__map-container .restaurant__map-footer {\\n    align-items: center;\\n    background: rgba(154, 255, 220, 0.15);\\n    border: 1px solid rgba(51, 51, 51, 0.25);\\n    display: flex;\\n    justify-content: space-between; }\\n    .restaurant__map-container .restaurant__map-footer .restaurant__address-container {\\n      flex: 1;\\n      padding: 0.8rem; }\\n    .restaurant__map-container .restaurant__map-footer .restaurant__enlarge-map-button {\\n      align-self: stretch;\\n      background: #eee;\\n      border: 0;\\n      border-left: 1px solid rgba(238, 238, 238, 0.25);\\n      color: #333;\\n      cursor: pointer;\\n      font-size: 160%;\\n      font-weight: 700;\\n      padding: 0 1.6rem; }\\n\\n.restaurant {\\n  display: grid;\\n  grid-template-areas: \\\"h\\\" \\\"s\\\" \\\"i\\\" \\\"m\\\" \\\"d\\\" \\\"r\\\"; }\\n  .restaurant .restaurant__header {\\n    grid-area: h; }\\n  .restaurant .restaurant__star-rating {\\n    grid-area: s; }\\n  .restaurant .restaurant__image-container {\\n    grid-area: i;\\n    padding: 0;\\n    min-width: 100%; }\\n    .restaurant .restaurant__image-container .restaurant__image {\\n      width: 100%; }\\n  .restaurant .restaurant__map-container {\\n    grid-area: m; }\\n  .restaurant .restaurant__details {\\n    grid-area: d; }\\n  .restaurant .restaurant__reviews-container {\\n    grid-area: r; }\\n  @media screen and (min-width: 825px) {\\n    .restaurant {\\n      grid: \\\"i i h h h h h\\\" \\\"i i s s s s s\\\" \\\"i i m m m m m\\\" \\\"d d d d d d d\\\" \\\"r r r r r r r\\\";\\n      grid-template-columns: 250px 1fr repeat(4, 1fr);\\n      grid-template-rows: auto auto 1fr;\\n      column-gap: 1rem;\\n      margin: 0 auto;\\n      padding: 1.6rem; }\\n      .restaurant .restaurant__image-container {\\n        height: auto;\\n        max-height: 600px;\\n        max-width: 800px;\\n        margin: auto; }\\n        .restaurant .restaurant__image-container .restaurant__image {\\n          border-radius: 2.4rem; } }\\n\\n/* RESTAURANT HEADER */\\n.restaurant__header {\\n  padding: 0.8rem; }\\n  .restaurant__header .restaurant__name {\\n    color: #B22200;\\n    font-size: 3.2rem;\\n    letter-spacing: 0.025ch;\\n    line-height: 1;\\n    padding-bottom: 0.8rem; }\\n  .restaurant__header .restaurant__cuisine,\\n  .restaurant__header .restaurant__hours-today {\\n    color: #737373;\\n    display: block;\\n    font-size: 1.6rem;\\n    padding: 0; }\\n  .restaurant__header .restaurant__hours-today {\\n    padding-bottom: 0.8rem; }\\n\\n.restaurant__star-rating,\\n.star-rating {\\n  align-items: center;\\n  display: flex;\\n  flex-wrap: nowrap;\\n  margin: -0.8rem 0 0.8rem 0;\\n  padding: 0 0.8rem; }\\n\\n.restaurant__star-rating .star-rating__container {\\n  color: #666666; }\\n\\n.restaurant__details {\\n  padding: 0.8rem; }\\n\\n.subheading {\\n  color: #B22200;\\n  font-size: 2.4rem;\\n  margin-bottom: 0.8rem; }\\n\\n.restaurant__hours {\\n  border: 0;\\n  border-collapse: collapse;\\n  min-width: 100%; }\\n  .restaurant__hours thead th {\\n    background: #B22200;\\n    color: white; }\\n  .restaurant__hours td {\\n    padding: 0.8rem;\\n    text-align: center; }\\n  @media screen and (max-width: 550px) {\\n    .restaurant__hours {\\n      display: block; }\\n      .restaurant__hours thead,\\n      .restaurant__hours tbody,\\n      .restaurant__hours th,\\n      .restaurant__hours td,\\n      .restaurant__hours tr {\\n        display: block; }\\n      .restaurant__hours thead tr {\\n        position: absolute;\\n        top: -9999px;\\n        left: -9999px; }\\n      .restaurant__hours tbody tr {\\n        border: 1px solid #eee;\\n        border-radius: 0.3rem;\\n        margin: 1.06667rem 0 2.4rem 0; }\\n        .restaurant__hours tbody tr:last-child {\\n          margin-bottom: 0; }\\n        .restaurant__hours tbody tr td:nth-child(even) {\\n          background: rgba(238, 238, 238, 0.5); }\\n        .restaurant__hours tbody tr td:nth-child(4n) {\\n          border-bottom: 1px solid transparent; }\\n      .restaurant__hours td {\\n        border-bottom: 1px solid #eee;\\n        position: relative;\\n        padding: 1.06667rem 0 1.06667rem 50%; }\\n        .restaurant__hours td:before {\\n          font-style: normal;\\n          position: absolute;\\n          left: 0.5rem;\\n          content: attr(data-th);\\n          font-weight: bold;\\n          text-transform: uppercase; } }\\n\\n.restaurant__reviews-container {\\n  padding: 0.8rem; }\\n\\n.restaurant__reviews .restaurant__review {\\n  border: 1px solid rgba(51, 51, 51, 0.25);\\n  border-radius: 0.8rem;\\n  margin-bottom: 2rem; }\\n  .restaurant__reviews .restaurant__review .review__top {\\n    background: #333;\\n    border-radius: 0.8rem 0.8rem 0 0;\\n    color: #eee;\\n    padding: 0.8rem; }\\n    .restaurant__reviews .restaurant__review .review__top .review__username {\\n      display: inline-block;\\n      text-transform: uppercase;\\n      font-size: 1.6rem; }\\n    .restaurant__reviews .restaurant__review .review__top .star-rating {\\n      float: right;\\n      margin: 0;\\n      padding: 0; }\\n  .restaurant__reviews .restaurant__review .review__body {\\n    padding: 0.8rem; }\\n  .restaurant__reviews .restaurant__review .review__date {\\n    color: #737373;\\n    font-style: italic; }\\n  .restaurant__reviews .restaurant__review .review__comment {\\n    margin: 0.8rem 0; }\\n\\n@media screen and (min-width: 825px) {\\n  .restaurant__reviews {\\n    display: flex; }\\n    .restaurant__reviews .restaurant__review {\\n      flex: 1 1 0;\\n      width: calc((100% * 0.3333333) - $spacing-md*2); }\\n      .restaurant__reviews .restaurant__review:nth-child(3n+2) {\\n        margin-left: 1.6rem;\\n        margin-right: 1.6rem; } }\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/lib/loader.js!./restaurant.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/lib/loader.js!./restaurant.scss\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/lib/loader.js!./restaurant.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/*\n * Date Format 1.2.3\n * (c) 2007-2009 Steven Levithan <stevenlevithan.com>\n * MIT license\n *\n * Includes enhancements by Scott Trenda <scott.trenda.net>\n * and Kris Kowal <cixar.com/~kris.kowal/>\n *\n * Accepts a date, a mask, or a date and a mask.\n * Returns a formatted version of the given date.\n * The date defaults to the current date/time.\n * The mask defaults to dateFormat.masks.default.\n */\n\n(function(global) {\n  'use strict';\n\n  var dateFormat = (function() {\n      var token = /d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\\1?|[LloSZWN]|\"[^\"]*\"|'[^']*'/g;\n      var timezone = /\\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\\d{4})?)\\b/g;\n      var timezoneClip = /[^-+\\dA-Z]/g;\n  \n      // Regexes and supporting functions are cached through closure\n      return function (date, mask, utc, gmt) {\n  \n        // You can't provide utc if you skip other args (use the 'UTC:' mask prefix)\n        if (arguments.length === 1 && kindOf(date) === 'string' && !/\\d/.test(date)) {\n          mask = date;\n          date = undefined;\n        }\n  \n        date = date || new Date;\n  \n        if(!(date instanceof Date)) {\n          date = new Date(date);\n        }\n  \n        if (isNaN(date)) {\n          throw TypeError('Invalid date');\n        }\n  \n        mask = String(dateFormat.masks[mask] || mask || dateFormat.masks['default']);\n  \n        // Allow setting the utc/gmt argument via the mask\n        var maskSlice = mask.slice(0, 4);\n        if (maskSlice === 'UTC:' || maskSlice === 'GMT:') {\n          mask = mask.slice(4);\n          utc = true;\n          if (maskSlice === 'GMT:') {\n            gmt = true;\n          }\n        }\n  \n        var _ = utc ? 'getUTC' : 'get';\n        var d = date[_ + 'Date']();\n        var D = date[_ + 'Day']();\n        var m = date[_ + 'Month']();\n        var y = date[_ + 'FullYear']();\n        var H = date[_ + 'Hours']();\n        var M = date[_ + 'Minutes']();\n        var s = date[_ + 'Seconds']();\n        var L = date[_ + 'Milliseconds']();\n        var o = utc ? 0 : date.getTimezoneOffset();\n        var W = getWeek(date);\n        var N = getDayOfWeek(date);\n        var flags = {\n          d:    d,\n          dd:   pad(d),\n          ddd:  dateFormat.i18n.dayNames[D],\n          dddd: dateFormat.i18n.dayNames[D + 7],\n          m:    m + 1,\n          mm:   pad(m + 1),\n          mmm:  dateFormat.i18n.monthNames[m],\n          mmmm: dateFormat.i18n.monthNames[m + 12],\n          yy:   String(y).slice(2),\n          yyyy: y,\n          h:    H % 12 || 12,\n          hh:   pad(H % 12 || 12),\n          H:    H,\n          HH:   pad(H),\n          M:    M,\n          MM:   pad(M),\n          s:    s,\n          ss:   pad(s),\n          l:    pad(L, 3),\n          L:    pad(Math.round(L / 10)),\n          t:    H < 12 ? dateFormat.i18n.timeNames[0] : dateFormat.i18n.timeNames[1],\n          tt:   H < 12 ? dateFormat.i18n.timeNames[2] : dateFormat.i18n.timeNames[3],\n          T:    H < 12 ? dateFormat.i18n.timeNames[4] : dateFormat.i18n.timeNames[5],\n          TT:   H < 12 ? dateFormat.i18n.timeNames[6] : dateFormat.i18n.timeNames[7],\n          Z:    gmt ? 'GMT' : utc ? 'UTC' : (String(date).match(timezone) || ['']).pop().replace(timezoneClip, ''),\n          o:    (o > 0 ? '-' : '+') + pad(Math.floor(Math.abs(o) / 60) * 100 + Math.abs(o) % 60, 4),\n          S:    ['th', 'st', 'nd', 'rd'][d % 10 > 3 ? 0 : (d % 100 - d % 10 != 10) * d % 10],\n          W:    W,\n          N:    N\n        };\n  \n        return mask.replace(token, function (match) {\n          if (match in flags) {\n            return flags[match];\n          }\n          return match.slice(1, match.length - 1);\n        });\n      };\n    })();\n\n  dateFormat.masks = {\n    'default':               'ddd mmm dd yyyy HH:MM:ss',\n    'shortDate':             'm/d/yy',\n    'mediumDate':            'mmm d, yyyy',\n    'longDate':              'mmmm d, yyyy',\n    'fullDate':              'dddd, mmmm d, yyyy',\n    'shortTime':             'h:MM TT',\n    'mediumTime':            'h:MM:ss TT',\n    'longTime':              'h:MM:ss TT Z',\n    'isoDate':               'yyyy-mm-dd',\n    'isoTime':               'HH:MM:ss',\n    'isoDateTime':           'yyyy-mm-dd\\'T\\'HH:MM:sso',\n    'isoUtcDateTime':        'UTC:yyyy-mm-dd\\'T\\'HH:MM:ss\\'Z\\'',\n    'expiresHeaderFormat':   'ddd, dd mmm yyyy HH:MM:ss Z'\n  };\n\n  // Internationalization strings\n  dateFormat.i18n = {\n    dayNames: [\n      'Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat',\n      'Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'\n    ],\n    monthNames: [\n      'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec',\n      'January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'\n    ],\n    timeNames: [\n      'a', 'p', 'am', 'pm', 'A', 'P', 'AM', 'PM'\n    ]\n  };\n\nfunction pad(val, len) {\n  val = String(val);\n  len = len || 2;\n  while (val.length < len) {\n    val = '0' + val;\n  }\n  return val;\n}\n\n/**\n * Get the ISO 8601 week number\n * Based on comments from\n * http://techblog.procurios.nl/k/n618/news/view/33796/14863/Calculate-ISO-8601-week-and-year-in-javascript.html\n *\n * @param  {Object} `date`\n * @return {Number}\n */\nfunction getWeek(date) {\n  // Remove time components of date\n  var targetThursday = new Date(date.getFullYear(), date.getMonth(), date.getDate());\n\n  // Change date to Thursday same week\n  targetThursday.setDate(targetThursday.getDate() - ((targetThursday.getDay() + 6) % 7) + 3);\n\n  // Take January 4th as it is always in week 1 (see ISO 8601)\n  var firstThursday = new Date(targetThursday.getFullYear(), 0, 4);\n\n  // Change date to Thursday same week\n  firstThursday.setDate(firstThursday.getDate() - ((firstThursday.getDay() + 6) % 7) + 3);\n\n  // Check if daylight-saving-time-switch occurred and correct for it\n  var ds = targetThursday.getTimezoneOffset() - firstThursday.getTimezoneOffset();\n  targetThursday.setHours(targetThursday.getHours() - ds);\n\n  // Number of weeks between target Thursday and first Thursday\n  var weekDiff = (targetThursday - firstThursday) / (86400000*7);\n  return 1 + Math.floor(weekDiff);\n}\n\n/**\n * Get ISO-8601 numeric representation of the day of the week\n * 1 (for Monday) through 7 (for Sunday)\n * \n * @param  {Object} `date`\n * @return {Number}\n */\nfunction getDayOfWeek(date) {\n  var dow = date.getDay();\n  if(dow === 0) {\n    dow = 7;\n  }\n  return dow;\n}\n\n/**\n * kind-of shortcut\n * @param  {*} val\n * @return {String}\n */\nfunction kindOf(val) {\n  if (val === null) {\n    return 'null';\n  }\n\n  if (val === undefined) {\n    return 'undefined';\n  }\n\n  if (typeof val !== 'object') {\n    return typeof val;\n  }\n\n  if (Array.isArray(val)) {\n    return 'array';\n  }\n\n  return {}.toString.call(val)\n    .slice(8, -1).toLowerCase();\n};\n\n\n\n  if (typeof define === 'function' && define.amd) {\n    define(function () {\n      return dateFormat;\n    });\n  } else if (typeof exports === 'object') {\n    module.exports = dateFormat;\n  } else {\n    global.dateFormat = dateFormat;\n  }\n})(this);\n","import dateformat from 'dateformat';\nimport {\n  DBHelper,\n  lazyLoadImages,\n  getUrlParameter,\n  makeImage,\n  makeStarRating,\n  Map\n} from '../utils';\n\nimport '../../styles/restaurant.scss';\n\n/**\n * Generates the HTML output for the operating hours table\n */\nconst generateHoursHtml = operatingHours => {\n  const docFrag = document.createDocumentFragment();\n  const table = document.createElement('table');\n  const tr = document.createElement('tr');\n  const thead = document.createElement('thead');\n  const thead_tr = tr.cloneNode();\n  const tbody = document.createElement('tbody');\n  const tbody_tr = tr.cloneNode();\n  const th = document.createElement('th');\n  const td = document.createElement('td');\n\n  table.className = 'restaurant__hours';\n\n  thead.appendChild(thead_tr);\n  tbody.appendChild(tbody_tr);\n\n  for (let day in operatingHours) {\n    let day_th = th.cloneNode();\n    let day_td = td.cloneNode();\n\n    day_th.textContent = day;\n    day_td.innerHTML = (operatingHours[day].includes(',') ? operatingHours[day].replace(', ', '<br>') : operatingHours[day]);\n    day_td.setAttribute('data-th', day);\n\n    thead_tr.appendChild(day_th);\n    tbody_tr.appendChild(day_td);\n  }\n\n  table.appendChild(thead);\n  table.appendChild(tbody);\n\n  docFrag.appendChild(table);\n  \n  return docFrag;\n};\n\n/**\n * Generates the HTML output for a review\n */\nconst generateReviewHtml = review => {\n  const li = document.createElement('li');\n  const div = document.createElement('div');\n  const p = document.createElement('p');\n  const reviewTop = div.cloneNode();\n  const reviewBody = div.cloneNode();\n  const username = p.cloneNode();\n  const starRating = div.cloneNode();\n  const date = p.cloneNode();\n  const comment = p.cloneNode();\n\n  li.className = 'restaurant__review';\n  reviewTop.className = 'review__top';\n  reviewBody.className = 'review__body';\n\n  // Review Top\n  username.textContent = review.name;\n  username.className = 'review__username';\n  reviewTop.appendChild(username);\n\n  starRating.className = 'star-rating';\n  starRating.setAttribute('aria-label', `User rating: ${review.rating}`);\n  starRating.appendChild(makeStarRating(review.rating / 5 * 100));\n  reviewTop.appendChild(starRating);\n  \n  // Review Body\n  date.textContent = dateformat(new Date(review.createdAt), 'mm/dd/yyyy h:MM TT');\n  date.className = 'review__date';\n  comment.innerHTML = review.comments;\n  comment.className = 'review__comment';\n  reviewBody.appendChild(date);\n  reviewBody.appendChild(comment);\n\n  li.appendChild(reviewTop);\n  li.appendChild(reviewBody);\n\n  return li;\n};\n\n/**\n * The restaurant page controller\n */\nconst RestaurantController = {\n  map: null,\n  restaurant: null,\n  pageElements: {\n    breadcrumbs: document.querySelector('.breadcrumbs__nav-list'),\n    restaurantContainer: document.querySelector('.restaurant'),\n    restaurantName: document.querySelector('.restaurant__name'),\n    restaurantCuisine: document.querySelector('.restaurant__cuisine'),\n    restaurantHoursToday: document.querySelector('.hours-today__text'),\n    restaurantAddress: document.querySelector('.restaurant__address'),\n    restaurantNeighborhood: document.querySelector('.restaurant__neighborhood'),\n    restaurantStarRating: document.querySelector('.restaurant__star-rating'),\n    restaurantHoursContainer: document.querySelector('.restaurant__hours-container'),\n    restaurantImageContainer: document.querySelector('.restaurant__image-container'),\n    reviewsContainer: document.querySelector('.restaurant__reviews-container'),\n  },\n\n  /**\n   * Page controller entry point to begin rendering page elements\n   */\n  render() {\n    const restaurantId = +getUrlParameter('id');\n\n    if (!restaurantId) {\n      console.error('The restaurant ID could not be located');\n      return;\n    }\n\n    DBHelper.fetchRestaurant(restaurantId).then(restaurant => {\n      this.restaurant = restaurant;\n      document.title += ` | ${this.restaurant.name}`;\n\n      this.fillBreadcrumb();\n      this.renderRestaurant();\n      this.loadMap();\n    })\n    .catch(console.error);\n  },\n\n  /**\n   * Renders restaurant information\n   */\n  renderRestaurant() {\n    // Populate restaurant content\n    this.generateImage();\n    this.populateHeader();\n    this.generateAverageRating();\n    this.populateAddress();\n    this.populateDetails();\n    this.renderReviews();\n    lazyLoadImages();\n  },\n\n  /**\n   * Populates the restaurant header with content\n   */\n  populateHeader() {\n    const { restaurantName, restaurantCuisine, restaurantHoursToday } = this.pageElements;\n    const { name, cuisine_type: cuisine, operating_hours: operatingHours } = this.restaurant;\n    const daysOfTheWeek = Object.keys(operatingHours);\n    const todayNum = new Date().getDay();\n    const currentDay = daysOfTheWeek[todayNum > 0 ? todayNum - 1 : todayNum];\n    \n    restaurantName.textContent = name;\n    restaurantCuisine.textContent = cuisine;\n    restaurantHoursToday.textContent = operatingHours[currentDay];\n  },\n\n  /**\n   * Generates an IMG element for the current restaurant\n   */\n  generateImage() {\n    const { restaurantImageContainer } = this.pageElements;\n    const { id, altText } = this.restaurant;\n    const loadingIndicator = document.createElement('span');\n    \n    loadingIndicator.className = 'spinner';\n    restaurantImageContainer.appendChild(loadingIndicator);\n\n    restaurantImageContainer.appendChild(makeImage({\n      id,\n      src: DBHelper.restaurantImgUrl({id, size: 'small' }),\n      sizes: \"100vw\",\n      alt: altText,\n      className: 'restaurant__image',\n    }, image => {\n      loadingIndicator.parentNode && \n        loadingIndicator.parentNode.removeChild(loadingIndicator);\n      \n      restaurantImageContainer.appendChild(image);\n    }));\n  },\n\n  /**\n   * Generates the average star rating\n   */\n  generateAverageRating() {\n    const { restaurantStarRating } = this.pageElements;\n    const { averageReview, reviews } = this.restaurant;\n    const link = document.createElement('a');\n\n    // Add stars\n    restaurantStarRating.appendChild(makeStarRating(averageReview));\n\n    // Add link\n    link.setAttribute('href', '#reviews');\n    link.setAttribute('title', 'Skip to customer reviews');\n    link.className = 'star-rating__link';\n    link.textContent = `${reviews.length} reviews`;\n\n    restaurantStarRating.appendChild(link);\n  },\n\n  /**\n   * Populates the restaurant address and neighborhood\n   */\n  populateAddress() {\n    const { restaurantAddress, restaurantNeighborhood } = this.pageElements;\n    const { address, neighborhood } = this.restaurant;\n\n    restaurantAddress.textContent = address;\n    restaurantNeighborhood.textContent = neighborhood;\n  },\n\n  /**\n   * Populates restaurant details section\n   */\n  populateDetails() {\n    const { restaurantHoursContainer } = this.pageElements;\n    const { operating_hours: operatingHours } = this.restaurant;\n\n    restaurantHoursContainer.appendChild(generateHoursHtml(operatingHours));\n  },\n  \n  /**\n   * Renders reviews if there are any\n   */\n  renderReviews() {\n    const { reviews } = this.restaurant;\n    const { reviewsContainer } = this.pageElements;\n    const docFrag = document.createDocumentFragment();\n\n    if (!reviews) {\n      const paragraph = document.createElement('p');\n\n      paragraph.textContent = `${this.restaurant.name} does not have any reviews`;\n      paragraph.className = 'restaurant-reviews__empty';\n      reviewsContainer.appendChild(paragraph);\n\n      return;\n    }\n\n    const reviewsList = document.createElement('ul');\n    reviewsList.className = 'restaurant__reviews';\n\n    reviews.forEach(review => {\n      docFrag.appendChild(generateReviewHtml(review));\n    });\n\n    reviewsList.appendChild(docFrag);\n    reviewsContainer.appendChild(reviewsList);\n  },\n\n  /**\n   * Populates the page breadcrumbs\n   */\n  fillBreadcrumb() {\n    const { breadcrumbs } = this.pageElements;\n    const li = document.createElement('li');\n    \n    li.textContent = this.restaurant.name;\n    li.classList.add('breadcrumbs__nav-item');\n    li.setAttribute('aria-current', 'page');\n\n    breadcrumbs.appendChild(li);\n  },\n\n  loadMap() {\n    const { latlng } = this.restaurant;\n\n    // Create the map\n    this.map = new Map(document.querySelector('.restaurant__map'), {\n      zoom: 16,\n      center: [latlng.lat, latlng.lng],\n      dragging: false,\n    });\n\n    // Add a marker\n    this.map.addMarkers([{\n      position: [latlng.lat, latlng.lng],\n    }], event => event.target.closePopup());\n  },\n}\n\nexport default RestaurantController;\n"],"sourceRoot":""}